<!DOCTYPE html>

<html>

  <head>
    <title>ui-stats</title>
    <link rel="import" href="node_modules/polymer/polymer.html">
    <link rel="import" href="src/ui-stats.html">
    <style>
    body {
      font-family: "Helvetica Neue", "Helvetica", Arial;
      background-color: white;
    }
    </style>
  </head>

  <body unresolved>
    
    <h1>Timelines</h1>
    
    <ui-stats-timeline label="Mean CM Acceptance Percentage" units="%" groupBy="week" groupByFunction="average"
      src="https://query.glgroup.com/councilApplicant/getStats.mustache"
      valueProperty="accept_rate">
    </ui-stats-timeline>
    
    <ui-stats-timeline label="Peak CM Acceptance Percentage" units="%" groupBy="week" function="max" smooth="false"
      src="https://query.glgroup.com/councilApplicant/getStats.mustache"
      valueProperty="accept_rate" groupByFunction="average">
    </ui-stats-timeline>
    
    <ui-stats-timeline label="Mean Response time" units="ms" limit="30" groupByFunction="sum"
      src="https://query.glgroup.com/councilApplicant/getStats.mustache"
      valueProperty="paid">
    </ui-stats-timeline>

    <ui-stats-timeline label="Daily Mean CM Applications" groupBy="day" groupByFunction="sum"
      src="https://query.glgroup.com/councilApplicant/getStats.mustache"
      dateProperty="date" valueProperty="applied">
    </ui-stats-timeline>

    <ui-stats-timeline label="Weekly Mean Applications" groupBy="week" groupByFunction="sum"
      src="https://query.glgroup.com/councilApplicant/getStats.mustache"
      valueProperty="applied">
    </ui-stats-timeline>

    <ui-stats-timeline label="Monthly Mean Applications" groupBy="month" groupByFunction="sum"
      src="https://query.glgroup.com/councilApplicant/getStats.mustache"
      valueProperty="applied">
    </ui-stats-timeline>
    
    <h1>Number Tiles</h1>

    <ui-stats-number name="Single Value with Prefix" units="$" value="101.25">
    </ui-stats-number>

    <ui-stats-number name="Value and Previous" data="[95, 100]">
    </ui-stats-number>

    <ui-stats-number name="Value and Previous (absolute)" data="[200, 175]" absolute="true">
    </ui-stats-number>

    <ui-stats-number name="History - Not Smooth" data="[10, 20, 15, 30, 45, 12]" smooth="false">
    </ui-stats-number>
    
    <ui-stats-number name="History - Smooth" data="[10, 20, 15, 30, 45, 12]" smooth="true">
    </ui-stats-number>

    <ui-stats-number name="History - Last" data="[10, 20, 15, 30, 45, 12]" smooth="true" function="last">
    </ui-stats-number>

    <ui-stats-number name="History - Avg" data="[10, 20, 15, 30, 45, 12]" smooth="true" function="average">
    </ui-stats-number>

    <ui-stats-number name="Epiquery Results" src="https://query.glgroup.com/councilApplicant/getStats.mustache"
     property="applied" limit="7">
    </ui-stats-number>
      
    <h1>Charts From Data</h1>

    <ui-stats-chart name="Array of numbers" data="[10, 20, 15, 30, 45, 12]">
    </ui-stats-chart>

    <ui-stats-chart name="Array of numbers (smooth)" data="[10, 20, 15, 30, 45, 12]" smooth="true">
    </ui-stats-chart>

    <ui-stats-chart name="2 Dimensional Array (Bar)" type="bar"
      data="[ ['A', 12], ['B', 14], ['C', 9], ['D', 44], ['E', 16], ['F', 18] ]">
    </ui-stats-chart>

    <ui-stats-chart name="2 Dimensional Array, Typed"
      data="[ ['2015-03-01', 12], ['2015-04-01', 14], ['2015-05-01', 9], ['2015-06-01', 44], ['2015-07-01', 16], ['2015-08-01', 18] ]"
      cols="[{'type':'date'}, {'type':'number'}]">
    </ui-stats-chart>

    <ui-stats-chart name="Object Array (Columns)" type="column"
      data="[ {'color':'blue', 'count':3}, {'color':'white', 'count':11}, {'color':'yellow', 'count':2}, {'color':'red', 'count':5} ]"
      cols="[{'id':'color', 'type':'string'}, {'id':'count'}]">
    </ui-stats-chart>
    
    <ui-stats-chart name="Single Value Object Array"
      data="[ {'count':3}, {'count':11}, {'count':2}, {'count':5} ]"
      cols="[{'id':'count'}]">
    </ui-stats-chart>
    
    <ui-stats-chart id="dynamic" name="Random Data" type="column">
    </ui-stats-chart>
    
    <h1>Charts From Epiquery</h1>

    <ui-stats-chart name="Epiquery: CM Applications (30 days)" limit="30"
      src="https://query.glgroup.com/councilApplicant/getStats.mustache"
      cols="[{'id':'date', 'type':'date'}, {'id':'applied'}]">
    </ui-stats-chart>

    <ui-stats-chart name="Epiquery: CM Applications (1 year, weekly)" limit="365" groupBy="week"
      src="https://query.glgroup.com/councilApplicant/getStats.mustache"
      cols="[{'id':'date', 'type':'date'}, {'id':'applied'}]">
    </ui-stats-chart>
      
    <ui-stats-chart name="Epiquery: Custom Labels" limit="30"
      src="https://query.glgroup.com/councilApplicant/getStats.mustache"
      cols="[{'id':'date', 'type':'date', 'label':'Date', 'pattern':'YYYY-MM-DD'}, {'id':'applied', 'label':'Applications'}]">       
    </ui-stats-chart>

    <ui-stats-chart name="Epiquery: Multiple Y Columns (line)" limit="30"
      src="https://query.glgroup.com/councilApplicant/getStats.mustache"
      cols="[{'id':'date', 'type':'date'}, {'id':'applied'}, {'id':'accepted'}, {'id':'paid'}]">
    </ui-stats-chart>

    <ui-stats-chart name="Epiquery: Multiple Y Columns (column)" limit="7"
      src="https://query.glgroup.com/councilApplicant/getStats.mustache" type="column"
      cols="[{'id':'date', 'type':'date'}, {'id':'applied'}, {'id':'accepted'}, {'id':'paid'}]">
    </ui-stats-chart>

    <ui-stats-chart name="Epiquery: Multiple Y Columns (area)" limit="30"
      src="https://query.glgroup.com/councilApplicant/getStats.mustache" type="area"
      cols="[{'id':'date', 'type':'date'}, {'id':'applied'}, {'id':'accepted'}, {'id':'paid'}]">
    </ui-stats-chart>

    <ui-stats-chart name="Epiquery: Multiple Y Columns (area, by day)" limit="365" groupBy="day" width="54.5em"
      src="https://query.glgroup.com/councilApplicant/getStats.mustache" type="area"
      cols="[{'id':'date', 'type':'date'}, {'id':'applied'}, {'id':'accepted'}, {'id':'paid'}]">
    </ui-stats-chart>
    
    <ui-stats-chart name="Epiquery: Multiple Y Columns (area, by week)" limit="365" groupBy="week" width="54.5em"
      src="https://query.glgroup.com/councilApplicant/getStats.mustache" type="area"
      cols="[{'id':'date', 'type':'date'}, {'id':'applied'}, {'id':'accepted'}, {'id':'paid'}]">
    </ui-stats-chart>

    <ui-stats-chart name="Epiquery: Multiple Y Columns (area, by month)" limit="365" groupBy="month" width="54.5em"
      src="https://query.glgroup.com/councilApplicant/getStats.mustache" type="area"
      cols="[{'id':'date', 'type':'date'}, {'id':'applied'}, {'id':'accepted'}, {'id':'paid'}]">
    </ui-stats-chart>
         
    <ui-stats-chart name="Pie from Object Array" type="pie"
      data="[ {'method':'boat', 'count':3}, {'method':'airplane', 'count':11}, {'method':'car', 'count':2}, {'method':'truck', 'count':5} ]"
      cols="[{'id':'method', 'type':'string'}, {'id':'count'}]">
    </ui-stats-chart> 

    <script>
      function updateRandomData() {
        var data = []
        for (var i=0; i < 30; i++) {
          data.push(Math.random() * 50);
        }
        document.getElementById('dynamic').setAttribute("data", JSON.stringify(data));
      }
      updateRandomData();
      window.setInterval(updateRandomData, 3000);
    </script>

  </body>

</html>
